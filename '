/**
 * @author      : hypn0x (hypn0x@$HOSTNAME)
 * @file        : types
 * @created     : Sunday Mar 13, 2022 05:09:35 UTC
 */

#ifndef TYPES_H

#define TYPES_H

/* Lexer analyser */
typedef struct s_tkn	t_tkn;
typedef struct s_lexer	t_lexer;
typedef struct s_ast	t_ast;
typedef struct s_bltin	t_bltin;
typedef struct s_shell	t_shell;

/* Lexer analyzer */

struct	s_tkn {
	char	*data;
	int		type;
	t_tkn	*next;
}

struct	s_lexer {
	t_tkn	*tkn_list;
	int		n_tokens;
}

/* Asterik */

struct s_ast {
	int		type;
	char	*data;
	t_ast	*left;
	t_ast	*right;
};

/* Built-in */

struct s_bltin {
	char	*name;
	int		(*f)(char **);
	t_bltin	*next;
}

/* Shell */

struct s_shell
{
	int			lstatus;
	char		*cmdline;
	t_tkn		*prev;
	t_tkn		*tkn;
	t_ast		**current_ast;
	t_ast		cmd_ast;
	t_bltin		*builtin;
	t_list		**env;
	t_cmd		*cmd;
	char		**tokens;
	int			ret;
	int			std_in;
	int			std_out;
	int			error;
	int			pipe_cmd_exist;
	int			lreturn;
	char			*cmds;
	char			*prompt;
	char			**ev;
	char			**exp;
	struct termios	term;
};

extern t_sh	g_sh;

#endif /* end of include guard TYPES_H */

